## 出现问题汇总
1. ### 画板（`class DrawJPanel`）同监听器（`class DrawListener`）的耦合性太强了

2. ### 重绘，窗口变化后不是等比例缩小和放大
~~重绘代码里加入新画板的长宽~~
```java
//g.drawImage(drawBoardCopy, 0, 0, getWidth(), getHeight(), null);
```
直接设置成最大尺寸的画布。这样在重绘过程中，不会因画板尺寸改变（画板以前画的东西都会丢失），引起副本的改变（副本不会更新，画的东西也就不会丢失了）
```java
Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();
drawBoardCopy = (BufferedImage) this.createImage((int)screenSize.getWidth(), (int)screenSize.getHeight());  //创建画板副本
```
重绘的代码，就不用设定长宽，直接写入就好。也避免了每次重绘重设副本引起数据丢失的问题。
```java
g.drawImage(drawBoardCopy, 0, 0, null); //重绘
```

3. ### 不理解重绘函数到底干了什么，所以难以在重绘后处理画笔画板副本的关系。 _然后就导致了一系列的问题（4,6）_
目前理解应该是对窗口内的全部组件进行自己的重绘，会引起一些子元素的变化（比如本项目中的`getGraphics()`）。但是画板本身（`Jpanel`）不会变化，仍然是原来的对象。

4. ### 窗口放大缩小后，绘画的窗口不会变化
**出现原因：** 画板重绘后，画板的画笔进行了更新。而和监听器绑定的画笔没有更新，仍然是原来窗口大小的画笔。所以仍然在原来的尺寸上画画。  
**解决方案：** 在重写的`paint()`重新绑定画笔。


5. ### 直线拖动过程中，会消除之前画过的图形
借用重绘的思想，设置了画板的副本，在鼠标的拖动过程中，不断重绘副本，就相当于只在鼠标拖动之前的画板上加了一条线，然后就没有了， 用背景色消除，也会消除其他图形的问题。


6. ### 画板重画后，画笔颜色会有一次画画的延迟
其实不只是颜色，所有的样式都会丢失，只有副本重画的时候，才会显示出改变后的样式。
**原因：** 也是因为重绘导致画笔更新的问题，重绘后画笔由于更新导致样式也全部丢失了。  
**解决方案：** 在重绘函数`paint()`里不但画笔绑定，而且将副本画笔的样式还原给此画笔。_在此过程中，也将画笔初始化函数（`drawBoardPenInitial()`）小小的重构了以下_

7. ### 多个监听器并存：画板添加了多个监听器后，具有多个监听器的效果
**原因：** 监听器底层实现时，实际上是维护了一个监听器数组`MouseListeners[]`。所以一个组件可以同时拥有无数个监听器。当某一事件发生时，同这一个事件绑定的监听器会同时生效。  
**解决方案：** 调用监听器移出函数（实际上这个bug没出现之前是不知道有这个函数的<手动狗头>）`removeMouseListener()`，`removeMouseActionListener()`。 根据自己的监听器类型调用相应的监听器`removeXXListener()`函数。

8. ### 图案在拖动过程中，会因为刷新的原因，不断闪烁。
**原因：** 暂时没有找到

9. ### 外部图片无法导入
**原因：** 暂时没有找到
**解决方案：** 换了一种图片读取方式

10. ### 字体监听器文本输入框没有变透明

11. ### 画板上图形的刷新率很低很低，导致看起来频闪

12. ### 曲线*和直线*没有找到一个很好的选取算法

13. ### 选取的图形没有一个合适的保存的时机。现阶段是采用点击其他位置的方式来保存选取图形。但是当画板重画的时候，如果没有

14. ### 平移过程中改变的颜色不会改变
去掉改颜色的保存

15. ### 载入后画板不会自动刷新
加入刷新函数

16. ### 新开一个页面，但是退出的时候，会全退出。因为退出按钮是自己写的，所以暂时不知道怎么解决

17. ### 当前有界面的时候，载入文件，需要问询是否保存原来界面。需要重新保存。先默认保存！

